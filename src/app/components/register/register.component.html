<confirmation-modal [isOpen]="isModalOpen" (acceptChanges)="onAcceptChanges()" (cancelChanges)="onCancelChanges()"></confirmation-modal>

<h2 class="text-center">Registro</h2>
<form [formGroup]="registerForm" (ngSubmit)="register()" class="formulario row g-3">
        <div class="form-group">
          <label for="appUser">Username</label>
          <input type="text" id="appUser" formControlName="appUser" class="form-control">
          <div *ngIf="registerForm.controls.appUser.invalid && (registerForm.controls.appUser.dirty || registerForm.controls.appUser.touched)">
            <div *ngIf="registerForm.controls.appUser.errors.required" class="warningInput">Campo obligatorio.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="nameUser">Nombre</label>
          <input type="text" id="nameUser" formControlName="nameUser" class="form-control">
          <div *ngIf="registerForm.controls.nameUser.invalid && (registerForm.controls.nameUser.dirty || registerForm.controls.nameUser.touched)">
            <div *ngIf="registerForm.controls.nameUser.errors.required" class="warningInput">Campo obligatorio.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="surnameUser">Apellido(s)</label>
          <input type="text" id="surnameUser" formControlName="surnameUser" class="form-control">
          <div *ngIf="registerForm.controls.surnameUser.invalid && (registerForm.controls.surnameUser.dirty || registerForm.controls.surnameUser.touched)">
            <div *ngIf="registerForm.controls.surnameUser.errors.required" class="warningInput">Campo obligatorio.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="mailUser">E-Mail</label>
          <input type="email" id="mailUser" formControlName="mailUser" class="form-control">
          <div *ngIf="registerForm.controls.mailUser.invalid && (registerForm.controls.mailUser.dirty || registerForm.controls.mailUser.touched)">
            <div *ngIf="registerForm.controls.mailUser.errors.required" class="warningInput">Campo obligatorio.</div>
            <div *ngIf="registerForm.controls.mailUser.errors.email" class="warningInput">Correo no válido.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="passwordUser">Contraseña</label>
          <input type="password" id="passwordUser" formControlName="passwordUser" class="form-control">
          <div *ngIf="registerForm.controls.passwordUser.invalid && (registerForm.controls.passwordUser.dirty || registerForm.controls.passwordUser.touched)">
            <div *ngIf="registerForm.controls.passwordUser.errors.required" class="warningInput">Campo obligatorio.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="roleUser">Tipo de Cuenta</label>
          <select id="roleUser" formControlName="roleUser" class="form-control" (change)="toggleAdditionalForm()">
            <option value="pax">Pasajero</option>
            <option value="company">Empresa</option>
            <option value="admin">Administración</option>
            <option value="tech">Equipo Técnico</option>
          </select>
        </div>

        <div id="additionalForm" [hidden]="showAdditionalForm">
          <div class="form-group">
              <label for="code">Código</label>
              <input type="text" id="code" formControlName="code" class="form-control">
          </div>
        </div>

        <div class="form-group">
          <label for="photoUser">Foto</label>
          <input type="text" id="photoUser" formControlName="photoUser" class="form-control" placeholder="URL">
          <div *ngIf="registerForm.controls.photoUser.invalid && (registerForm.controls.photoUser.dirty || registerForm.controls.photoUser.touched)">
            <div *ngIf="registerForm.controls.photoUser.errors.required" class="warningInput">Campo obligatorio.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="birthdateUser">Nacimiento</label>
          <input type="date" id="birthdateUser" formControlName="birthdateUser" class="form-control" placeholder="DD/MM/AAAA">
        </div>

        <div class="form-group">
          <label for="genderUser">Género</label>
          <select id="genderUser" formControlName="genderUser" class="form-control">
            <option value="male">Masculino</option>
            <option value="female">Femenino</option>
            <option value="other">Otr@</option>
          </select>
        </div>

        <div class="form-group">
          <label for="descriptionUser">Descripción</label>
          <input type="string" id="descriptionUser" formControlName="descriptionUser" class="form-control">
        </div>

        <div class="form-group">
          <label class="form-check-label" for="privacyUser">Cuenta Privada</label>
          <input type="checkbox" class="form-check-input" id="privacyUser" name="privacyUser" formControlName="privacyUser">
        </div>
        
        <button class="buttonRegister" (click)="openModal()">Registrar</button> </form>

      <footer>
        <p>EaseAer &copy; 2024. Todos los derechos reservados.</p>
      </footer>

