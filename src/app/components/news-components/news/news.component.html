<notification-modal [isOpen]="isNotificationOpen" [modalText]="modalText" (acceptChanges)="onAcceptChanges()" (cancelChanges)="onCancelChanges()"></notification-modal>

<h2 class="text-center">Notícias</h2>

<div class="bloque_funcionalidades_clase">
    <button type="button" class="animated-word" routerLink="/news/create" >Create</button>
    <button type="button" class="animated-word" (click)="printeaTodos()" >Get All</button>
    <input type="text" class="buscador" placeholder="Get By Author Id" [(ngModel)]="searchNewsByAuthor" name="searchNewsByAuthor" (keyup)="searchNewsByAuthorId()"/>
    <input type="text" class="buscador" placeholder="Get By Title" [(ngModel)]="searchNewsByTitle" name="searchNewsByTitle" (keyup)="searchByTitle()"/>
</div>

<div class="input-group mb-3"></div>

<div class="tableLocations">
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th class="textTitleTable">ID Noticia</th>
            <th class="textTitleTable">ID Autor</th>
            <th class="textTitleTable">Título</th>
            <th class="textTitleTable">Subtítulo</th>
            <th class="textTitleTable">Detalles</th>
            <th class="textTitleTable">Editar</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let news of filteredNews" [ngClass]="{ 'table-danger': news.deletedNews, 'table-success': !news.deletedNews }">
            <td class="text-center">{{ news.uuid.slice(0, 4) }} ... {{ news.uuid.slice(-4) }}</td>
            <td class="text-center">{{ news.idUserAuthorNews.slice(0, 4) }} ... {{ news.idUserAuthorNews.slice(-4) }}</td>
            <td class="text-center">{{ news.titleNews }}</td>
            <td class="text-center">{{ news.subtitleNews.slice(0, 36) }} ...</td>
            <td><a [routerLink]="['/news/details/', news.uuid]"><button type="button" class="buttonDetailsEdit" (click)="showDetails(news)">Detalles</button></a></td>
            <td><a [routerLink]="['/news/edit/', news.uuid]"><button type="button" class="buttonDetailsEdit" (click)="showEdit(news)">Editar</button></a></td>
        </tr>
        </tbody>
    </table>
</div>

<div class="pagButtonsContainer">
    <button type="button" class="button-arounder" (click)="paginatePrevious()" >◀</button>
    <p class="textoPag"> Page {{ numPage }} </p> 
    <button type="button" class="button-arounder" (click)="paginateNext()">▶</button>  
</div>

<footer>
  <p>EaseAer &copy; 2024. Todos los derechos reservados.</p>
</footer>
